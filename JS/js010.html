<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">

    <link rel="stylesheet" href="css/main.css">
    <script src="https://code.jquery.com/jquery-3.7.0.min.js" integrity="sha256-2Pmvv0kuTBOenSvLm6bvfBSSHrUJ+3A7x6P5Ebd07/g=" crossorigin="anonymous"></script>

</head>
<body>

<div class="black-bg1">
    <div class="white-bg">
        <h4>로그인하세요</h4>
        <form >
            <div class="mb-3">
                <input type="text" class="form-control" id="email">
            </div>
            <div class="mb-3">
                <input type="password" class="form-control" id="password">
            </div>
            <button type="submit" id="submit" class="btn btn-primary">Submit</button>
            <button type="button" class="btn btn-danger" id="close">닫기</button>
        </form>

    </div>
</div>

<nav class="navbar navbar-light bg-light">
    <div class="container-fluid">
        <a class="navbar-brand" href="#">Offcanvas navbar</a>
        <span class="badge bg-dark ms-auto mx-3">Dark 🌛</span>
        <button class="navbar-toggler" type="button">
            <span class="navbar-toggler-icon "></span>
        </button>
    </div>
</nav>

<ul class="list-group" id="list1">
    <li class="list-group-item">An item</li>
    <li class="list-group-item">A second item</li>
    <li class="list-group-item">A third item</li>
    <li class="list-group-item">A fourth item</li>
    <li class="list-group-item">And a fifth one</li>
</ul>

<button id="loginBtn" type="button" class="btn btn-primary">
    버튼
</button>
<div style="overflow: hidden">
    <div class="slide-container">
        <div class="slide-box">
            <img src="img/1.jpg">
        </div>
        <div class="slide-box">
            <img src="img/2.jpg">
        </div>
        <div class="slide-box">
            <img src="img/3.jpg">
        </div>
    </div>
</div>
<button class="slide-1">1</button>
<button class="slide-2">2</button>
<button class="slide-3">3</button>
<button class="slide-prev">이전</button>
<button class="slide-next">다음</button>

<div class="lorem" style="width: 200px; height: 100px; overflow-y: scroll">
    Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quae voluptas voluptatum minus praesentium fugit debitis at, laborum ipsa itaque placeat sit, excepturi eius. Nostrum perspiciatis, eligendi quae consectetur praesentium exercitationem.
</div>

<div class="alert alert-danger">
    <span id ="sec">5</span>초 이내에 구매 시 사은품 증정!
</div>
<div style="height: 1000px"></div>
<script>

    // setTimeout(function (){
    //     //실행할 코드
    //     $('.alert').hide();
    //
    // }, 5000)


    // setTimeout(countdown, 5000)
    //
    //
    // function alertHide() {
    //     $('.alert').hide();
    // }

    // $(".slide-1").on('click', function (){
    //     $('.slide-container').css('transform', 'translateX(0vw)');
    // })
    // $(".slide-2").on('click', function (){
    //     $('.slide-container').css('transform', 'translateX(-100vw)');
    // })
    // $(".slide-3").on('click', function (){
    //     $('.slide-container').css('transform', 'translateX(-200vw)');
    // })

    window.addEventListener('scroll', function (){
        console.log(window.scrollY); //Y축 스크롤 위치
        console.log(window.scrollX); //X축 스크롤 위치
    })
    $('.lorem').on('scroll', function (){
        //scrool 내린 양 A
        //화면에 보이는 div B
        //div 실제 높이 A+B C
        //C가 된다면 alert창 띄우기
        var scroll = $('.lorem').scrollTop();
        var clientHeight = $('.lorem').innerHeight();
        var scrollHeight = $('.lorem').prop('scrollHeight');
        console.log(scroll , clientHeight , scrollHeight);
        if(scroll + clientHeight >= scrollHeight - 10){
            alert('정독완료');
        }
    })
    //다른방법
    // $(".lorem").scroll(function(){
    //     if ($(this)[0].scrollHeight - Math.round($(this).scrollTop()) === $(this).outerHeight()){
    //         alert('end');
    //     }
    // });

    $(window).on('scroll', function (){
        $(window).scrollTop();//현재 위치 출력
        if($(window).scrollTop() > 100){
            console.log('크기바꿔');
            $('.navbar-brand').css('font-size', 20);
        }
        else if($(window).scrollTop() < 100){
            $('.navbar-brand').css('font-size', 30);
        }
    })
    function msCalc(min, sec) {
        return ((min * 60) + sec) * 1000;
    }

    function salePrice(price) {
        return Math.floor( price * 0.85 /10) *10;
    }

    console.log(salePrice(19900))
    console.log(msCalc(1,30));
    var picture = 1;
    $(".slide-prev").on('click', function () {

        $('.slide-container').css('transform', 'translateX(-'+(picture-2)+'00vw)');
        picture--;

    })
    $(".slide-next").on('click', function () {
        $('.slide-container').css('transform', 'translateX(-'+picture+'00vw)');
        picture++;
    })
    var second =5;

    var timer = function (){
        if(second > 0){
            second--;
            $('#sec').html(second);
        }
        else{
            $('.alert').hide();
            clearInterval(timerfun);
        //interval종료 명령어
        }
    }


    var timerfun = setInterval(timer,1000);

    var regExp = /[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*.[a-zA-Z]$/i;


    $('#loginBtn').on('click', function(){
        $('.black-bg1').addClass('show-modal1');

    });

    $('#close').on('click', function() {
        $('.black-bg1').removeClass('show-modal1');
    })

    $('.navbar-toggler').on('click', function() {
        $('.list-group').toggleClass('lg-open');
    });


    $('form').on('submit', function (e){
        console.log(document.getElementById('email').value);
        if($('#email').val() === ''){
            alert('아이디를 입력하세요');
            e.preventDefault();  // 폼 전송 막는 코드
        }
        if(!regExp.test($('#email').val())){
            alert("이메일 형식을 확인하세요");
            e.preventDefault();
        }

        if($('#password').val() === ''){
            alert('패스워드를 입력하세요');
        }else if($('#password').val().length <4){
            alert('패스워드는 4자 이상이어야 합니다.');
        }


    });


    //badge 클릭 시 글자를 Dark > Light 변경

    let count = 0;
    $('.badge').on('click', function (){
        count++;
        // count += 1;
        // count = count+1;
        console.log(count);
        console.log(count % 2);

        if(count % 2 === 0){
            $('.badge').html('Dark 🌛');
            $('.navbar').removeClass('navbar-dark');
            $('.navbar').removeClass('bg-dark');
            $('.navbar').addClass('navbar-light')
            $('.navbar').addClass('bg-light')
        }else if(count %2 === 1){
            $('.badge').html('Light 🌞');
            $('.navbar').removeClass('navbar-light');
            $('.navbar').removeClass('bg-light');
            $('.navbar').addClass('navbar-dark')
            $('.navbar').addClass('bg-dark')
        }
    });

    <script src="js/app.js"></script>

</script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
</body>
</html>